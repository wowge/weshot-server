{"version":3,"sources":["webpack:///static/js/app.c9e9cbfeae0a68948f2b.js","webpack:///./src/vuex/actions.js","webpack:///./~/vue-aplayer/src/vue-aplayer.vue?3406","webpack:///./src/components/Album.vue?67bf","webpack:///./src/components/AlbumsList.vue","webpack:///./src/App.vue?b089","webpack:///vue-aplayer.vue","webpack:///./src/App.vue?fc6a","webpack:///./src/vuex/mutations_type.js","webpack:///./src/main.js","webpack:///./src/vuex/mutations.js","webpack:///./src/vuex/getters.js","webpack:///./src/router/index.js","webpack:///./src/vuex/store.js","webpack:///./~/vue-aplayer/src/vue-aplayer.vue","webpack:///./src/components/AlbumsList.vue?f9e8","webpack:///./src/components/Login.vue?87ad","webpack:///./src/components/Album.vue","webpack:///AlbumsList.vue","webpack:///Album.vue","webpack:///Login.vue","webpack:///App.vue","webpack:///./src/components/Login.vue"],"names":["webpackJsonp","/8vw","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__mutations_type__","__WEBPACK_IMPORTED_MODULE_1_vue__","__WEBPACK_IMPORTED_MODULE_2_vue_resource__","__WEBPACK_IMPORTED_MODULE_3__main__","use","login","store","credential","nickName","password","commit","http","post","state","domain","then","res","json","window","localStorage","token","$router","push","catch","err","body","msg","getAlbumsList","that","payload","JSON","parse","atob","split","uid","_id","user","albumsList","get","flag","run","i","history","length","id","cover","data","photos","title","albumName","author","userInfo","open_id","createOn","Date","downloadUrl","avatar","avatarUrl","listReady","console","log","getAlbum","album","$route","query","memory","feelings","music","src","url","albumReady","0","exports","12qG","1rsT","render","_vm","this","_h","$createElement","_self","_c","staticClass","staticRenderFns","esExports","4aQm","_e","_v","attrs","name","authors","pic","poster","_l","photo","index","_s","target","href","rel","_m","staticStyle","font-size","width","height","_f","6LXs","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_AlbumsList_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c8c71d20_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_AlbumsList_vue__","normalizeComponent","__vue_styles__","Component","CUGf","isLoggedIn","on","mouseover","$event","showAlert","mouseout","clearAlert","click","logout","isLoginPath","gotoLogin","directives","rawName","value","expression","HPoU","__WEBPACK_IMPORTED_MODULE_0_aplayer__","__WEBPACK_IMPORTED_MODULE_0_aplayer___default","n","props","narrow","type","Boolean","default","autoplay","showlrc","Number","mutex","theme","String","mode","preload","listmaxheight","Object","Array","required","validator","songs","song","control","watch","_music","option","setMusic","play","$emit","mounted","_this","player","a","element","$el","LuhD","M93x","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_10338256_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","MkCj","d","UPDATE_USERINFO","SET_LOGINERR","UPDATE_ALBUMSLIST","UPDATE_ALBUM","UPDATE_TITLE","NHnr","defineProperty","app","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","filter","date","year","getFullYear","month","getMonth","day","getDate","toString","el","router","components","App","created","route","methods","now","exp","path","fullPath","UTg/","_types$UPDATE_USERINF","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","__WEBPACK_IMPORTED_MODULE_1__mutations_type__","loginErr","WMeU","getUser","getLoginErr","getList","getAlbumItem","getTitle","YaEn","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Login__","__WEBPACK_IMPORTED_MODULE_3__components_AlbumsList__","__WEBPACK_IMPORTED_MODULE_4__components_Album__","routes","component","YtJ0","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_2__getters__","__WEBPACK_IMPORTED_MODULE_3__mutations__","__WEBPACK_IMPORTED_MODULE_4__actions__","Store","actions","mutations","getters","afmS","__WEBPACK_IMPORTED_MODULE_0__babel_loader_vue_loader_lib_selector_type_script_index_0_vue_aplayer_vue__","__WEBPACK_IMPORTED_MODULE_1__vue_loader_lib_template_compiler_index_id_data_v_1fe40327_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_vue_loader_lib_selector_type_template_index_0_vue_aplayer_vue__","fA53","gotoAlbum","gBXN","for","domProps","input","composing","qrcode","gOGN","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Album_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_aa7d0ade_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Album_vue__","isYl","__WEBPACK_IMPORTED_MODULE_0_vuex__","__WEBPACK_IMPORTED_MODULE_1_underscore__","__WEBPACK_IMPORTED_MODULE_1_underscore___default","__WEBPACK_IMPORTED_MODULE_2_vue_aplayer__","VueAplayer","extend","computed","mA5G","nKb+","wTe3","xJD8","__WEBPACK_IMPORTED_MODULE_0__components_Login_vue__","__WEBPACK_IMPORTED_MODULE_1__components_AlbumsList_vue__","__WEBPACK_IMPORTED_MODULE_2__components_Album_vue__","__WEBPACK_IMPORTED_MODULE_3__vuex_store__","__WEBPACK_IMPORTED_MODULE_4_vuex__","LoginComp","AlbumsListComp","AlbumComp","alert","removeItem","xJsL","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Login_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3568de8b_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Login_vue__","zUKl"],"mappings":"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","file":"static/js/app.c9e9cbfeae0a68948f2b.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"/8vw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__mutations_type__ = __webpack_require__(\"MkCj\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_resource__ = __webpack_require__(\"ORbq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__main__ = __webpack_require__(\"NHnr\");\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_2_vue_resource__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  login: function login(store, credential) {\n    if (credential.nickName === '' || credential.password === '') {\n      store.commit(__WEBPACK_IMPORTED_MODULE_0__mutations_type__[\"b\" /* SET_LOGINERR */], '不允许为空');\n      return;\n    }\n    __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].http.post(store.state.domain + '/vue/login', { nickName: credential.nickName, password: credential.password }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      window.localStorage['weshot-token'] = res.token;\n      __WEBPACK_IMPORTED_MODULE_3__main__[\"app\"].$router.push('/albumsList');\n    }).catch(function (err) {\n      if (err.body.msg === 'incorrect user') {\n        store.commit(__WEBPACK_IMPORTED_MODULE_0__mutations_type__[\"b\" /* SET_LOGINERR */], '用户名错误');\n      } else if (err.body.msg === 'incorrect password') {\n        store.commit(__WEBPACK_IMPORTED_MODULE_0__mutations_type__[\"b\" /* SET_LOGINERR */], '密码错误');\n      }\n    });\n  },\n  getAlbumsList: function getAlbumsList(store, that) {\n    var token = window.localStorage['weshot-token'];\n    var payload = JSON.parse(window.atob(token.split('.')[1]));\n    var uid = payload._id;\n    var user = {};\n    var albumsList = [];\n    // {headers: {Authorization: 'Bearer ' + token}}\n    __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].http.get(store.state.domain + '/vue/user' + '?id=' + uid).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      store.commit(__WEBPACK_IMPORTED_MODULE_0__mutations_type__[\"a\" /* UPDATE_USERINFO */], res);\n      user = res;\n      store.commit(__WEBPACK_IMPORTED_MODULE_0__mutations_type__[\"e\" /* UPDATE_TITLE */], user.nickName + '的相册');\n      var flag = 0;\n      var run = 0;\n\n      var _loop = function _loop(i) {\n        __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].http.get(store.state.domain + '/vue/album' + '?id=' + user.history[i]).then(function (res) {\n          run++;\n          albumsList[i] = {\n            id: user.history[i],\n            cover: res.data.photos[0],\n            title: res.data.albumName,\n            author: res.data.userInfo.open_id,\n            createOn: new Date(res.data.createOn)\n          };\n          return __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].http.get(store.state.domain + '/api/downloadUrl' + '?key=' + albumsList[i].cover);\n        }).then(function (res) {\n          albumsList[i].cover = res.data.downloadUrl;\n          return __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].http.get(store.state.domain + '/vue/user' + '?id=' + albumsList[i].author);\n        }).then(function (res) {\n          albumsList[i].author = {\n            nickName: res.data.nickName,\n            avatar: res.data.avatarUrl\n          };\n          flag++;\n          if (flag === run) {\n            store.commit(__WEBPACK_IMPORTED_MODULE_0__mutations_type__[\"c\" /* UPDATE_ALBUMSLIST */], albumsList);\n            that.listReady = true;\n          }\n        });\n      };\n\n      for (var i = 0; i < user.history.length; i++) {\n        _loop(i);\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  },\n  getAlbum: function getAlbum(store, that) {\n    var album = {};\n    __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].http.get(store.state.domain + '/vue/album' + '?id=' + that.$route.query.id).then(function (res) {\n      album = {\n        photos: res.data.photos,\n        albumName: res.data.albumName,\n        memory: res.data.memory,\n        feelings: res.data.feelings,\n        music: res.data.music,\n        userInfo: res.data.userInfo,\n        createOn: new Date(res.data.createOn)\n      };\n      store.commit(__WEBPACK_IMPORTED_MODULE_0__mutations_type__[\"e\" /* UPDATE_TITLE */], album.albumName);\n      return __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].http.get(store.state.domain + '/api/get/song/qq' + '?id=' + album.music.id);\n    }).then(function (res) {\n      album.music.src = res.data.url;\n      return __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].http.get(store.state.domain + '/vue/user' + '?id=' + album.userInfo.open_id);\n    }).then(function (res) {\n      album.userInfo.nickName = res.data.nickName;\n      album.userInfo.avatar = res.data.avatarUrl;\n      var flag = 0;\n      var run = 0;\n\n      var _loop2 = function _loop2(i) {\n        run++;\n        __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].http.get(store.state.domain + '/api/downloadUrl' + '?key=' + album.photos[i]).then(function (res) {\n          album.photos[i] = res.data.downloadUrl;\n          flag++;\n          if (flag === run) {\n            store.commit(__WEBPACK_IMPORTED_MODULE_0__mutations_type__[\"d\" /* UPDATE_ALBUM */], album);\n            that.albumReady = true;\n          }\n        });\n      };\n\n      for (var i = 0; i < album.photos.length; i++) {\n        _loop2(i);\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 0:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"12qG\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"1rsT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"aplayer\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"4aQm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(!_vm.albumReady)?_c('div',{staticClass:\"row well\"},[_c('span',[_vm._v(\"正在读取中...\")])]):_vm._e(),(_vm.albumReady)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12\"},[_c('VueAplayer',{attrs:{\"music\":{title:_vm.album.music.name, author:_vm.album.music.authors, url:_vm.album.music.src, pic:_vm.album.music.poster}}}),_c('br'),_c('br'),_c('div',{staticClass:\"list-group\"},[_vm._l((_vm.album.photos),function(photo,index){return [_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('div',{staticClass:\"list-group-item well\"},[_c('div',{staticClass:\"list-group-item-heading\"},[_vm._v(_vm._s(_vm.album.feelings[index]))]),_c('a',{attrs:{\"target\":\"_blank\",\"href\":photo,\"rel\":\"noopener\"}},[_c('img',{staticClass:\"img-responsive img-thumbnail\",attrs:{\"src\":photo}})])])])]})],2)],1)]):_vm._e(),_c('br'),_c('br'),(_vm.albumReady)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"panel panel-info\"},[_vm._m(0),_c('div',{staticClass:\"panel-body\"},[_vm._v(_vm._s(_vm.album.memory))]),_c('div',{staticClass:\"right\",staticStyle:{\"font-size\":\"20px\"}},[_vm._v(_vm._s(_vm.album.userInfo.nickName)),_c('img',{staticClass:\"img-circle\",staticStyle:{\"width\":\"10%\",\"height\":\"10%\"},attrs:{\"src\":_vm.album.userInfo.avatar}}),_c('p',[_vm._v(_vm._s(_vm._f(\"date\")(_vm.album.createOn)))])])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-heading\"},[_c('div',{staticClass:\"panel-title\"},[_vm._v(\"寄语\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"6LXs\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_AlbumsList_vue__ = __webpack_require__(\"isYl\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c8c71d20_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_AlbumsList_vue__ = __webpack_require__(\"fA53\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"LuhD\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c8c71d20\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_AlbumsList_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c8c71d20_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_AlbumsList_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"CUGf\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container common\",attrs:{\"id\":\"app\"}},[_c('h1',[_vm._v(_vm._s(_vm.title))]),(_vm.isLoggedIn())?_c('div',{staticClass:\"right\",on:{\"mouseover\":function($event){_vm.showAlert()},\"mouseout\":function($event){_vm.clearAlert()}}},[_vm._v(_vm._s(_vm.user.nickName)),_c('button',{on:{\"click\":function($event){_vm.logout()}}},[_vm._v(\"登出\"),_c('i',{staticClass:\"glyphicon glyphicon-log-out\"})]),(_vm.alert)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\"在公用电脑上登录请记得登出，防止隐私泄漏\")]):_vm._e()]):_vm._e(),(!_vm.isLoggedIn() && !_vm.isLoginPath())?_c('div',{staticClass:\"right\"},[_c('button',{on:{\"click\":function($event){_vm.gotoLogin()}}},[_vm._v(\"登录\"),_c('i',{staticClass:\"glyphicon glyphicon-log-in\"})])]):_vm._e(),_c('hr'),_c('router-view',{directives:[{name:\"wechat-title\",rawName:\"v-wechat-title\",value:(_vm.title),expression:\"title\"}]})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"HPoU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_aplayer__ = __webpack_require__(\"RvFq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_aplayer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_aplayer__);\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    props: {\n        narrow: {\n            type: Boolean,\n            default: false\n        },\n        autoplay: {\n            type: Boolean,\n            default: false\n        },\n        showlrc: {\n            type: Number,\n            default: 0\n        },\n        mutex: {\n            type: Boolean,\n            default: false\n        },\n        theme: {\n            type: String,\n            default: '#b7daff'\n        },\n        mode: {\n            type: String,\n            default: 'circulation'\n        },\n        preload: {\n            type: String,\n            default: 'auto'\n        },\n        listmaxheight: String,\n        music: {\n            type: [Object, Array],\n            required: true,\n            validator: function validator(value) {\n                var songs = void 0;\n                if (!(value instanceof Array)) {\n                    songs = [value];\n                } else {\n                    songs = value;\n                }\n                for (var i = 0; i < songs.length; i++) {\n                    var song = songs[i];\n                    if (!song.url || !song.title || !song.author) {\n                        song.title = song.title || 'Untitled';\n                        song.author = song.author || 'Unknown';\n                        return false;\n                    }\n                }\n                return true;\n            }\n        }\n    },\n    data: function data() {\n        return {\n            control: null\n        };\n    },\n\n    watch: {\n        music: function music(_music) {\n            this.control.option.music = _music;\n            this.control.setMusic(0);\n            if (this.autoplay) {\n                this.control.play();\n            }\n            this.$emit('change', _music);\n        }\n    },\n    mounted: function mounted() {\n        var _this = this;\n\n        var player = this.control = new __WEBPACK_IMPORTED_MODULE_0_aplayer___default.a({\n            element: this.$el,\n            narrow: this.narrow,\n            autoplay: this.autoplay,\n            showlrc: this.showlrc,\n            mutex: this.mutex,\n            theme: this.theme,\n            preload: this.preload,\n            mode: this.mode,\n            listmaxheight: this.listmaxheight,\n            music: this.music\n        });\n        player.on('play', function () {\n            _this.$emit('play');\n        });\n        player.on('pause', function () {\n            _this.$emit('pause');\n        });\n        player.on('canplay', function () {\n            _this.$emit('canplay');\n        });\n        player.on('playing', function () {\n            _this.$emit('playing');\n        });\n        player.on('ended', function () {\n            _this.$emit('ended');\n        });\n        player.on('error', function () {\n            _this.$emit('error');\n        });\n    }\n});\n\n/***/ }),\n\n/***/ \"LuhD\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_10338256_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"CUGf\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"zUKl\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_10338256_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"MkCj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UPDATE_USERINFO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return SET_LOGINERR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return UPDATE_ALBUMSLIST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return UPDATE_ALBUM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return UPDATE_TITLE; });\nvar UPDATE_USERINFO = 'UPDATE_USERINFO';\nvar SET_LOGINERR = 'SET_LOGINERR';\nvar UPDATE_ALBUMSLIST = 'UPDATE_ALBUMSLIST';\nvar UPDATE_ALBUM = 'UPDATE_ALBUM';\nvar UPDATE_TITLE = 'UPDATE_TITLE';\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"app\", function() { return app; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(\"YaEn\");\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].filter('date', function (date) {\n  var year = date.getFullYear();\n  var month = date.getMonth() + 1;\n  var day = date.getDate();\n  return year.toString() + '年' + month.toString() + '月' + day.toString() + '日';\n});\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__webpack_require__(\"YqKu\"));\n\n/* eslint-disable no-new */\nvar app = new __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: 'app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] },\n  watch: {\n    '$route': 'route'\n  },\n  created: function created() {\n    this.route();\n  },\n\n  methods: {\n    isLoggedIn: function isLoggedIn() {\n      var token = window.localStorage['weshot-token'];\n      if (token) {\n        var payload = JSON.parse(window.atob(token.split('.')[1]));\n        return Date.now() / 1000 < payload.exp;\n      } else {\n        return false;\n      }\n    },\n    route: function route() {\n      if (!this.isLoggedIn() && this.$route.path !== '/album') {\n        this.$router.push('/login');\n      } else if (this.isLoggedIn() && this.$route.path !== '/album') {\n        this.$router.push('/albumsList');\n      } else {\n        // console.log(this.$route)\n        this.$router.push(this.$route.fullPath);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"UTg/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(\"bOdI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mutations_type__ = __webpack_require__(\"MkCj\");\n\n\nvar _types$UPDATE_USERINF;\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (_types$UPDATE_USERINF = {}, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_types$UPDATE_USERINF, __WEBPACK_IMPORTED_MODULE_1__mutations_type__[\"a\" /* UPDATE_USERINFO */], function (state, user) {\n  state.user = user;\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_types$UPDATE_USERINF, __WEBPACK_IMPORTED_MODULE_1__mutations_type__[\"b\" /* SET_LOGINERR */], function (state, loginErr) {\n  state.loginErr = loginErr;\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_types$UPDATE_USERINF, __WEBPACK_IMPORTED_MODULE_1__mutations_type__[\"c\" /* UPDATE_ALBUMSLIST */], function (state, albumsList) {\n  state.albumsList = albumsList;\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_types$UPDATE_USERINF, __WEBPACK_IMPORTED_MODULE_1__mutations_type__[\"d\" /* UPDATE_ALBUM */], function (state, album) {\n  state.album = album;\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_types$UPDATE_USERINF, __WEBPACK_IMPORTED_MODULE_1__mutations_type__[\"e\" /* UPDATE_TITLE */], function (state, title) {\n  state.title = title;\n}), _types$UPDATE_USERINF);\n\n/***/ }),\n\n/***/ \"WMeU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  getUser: function getUser(state) {\n    return state.user;\n  },\n  getLoginErr: function getLoginErr(state) {\n    return state.loginErr;\n  },\n  getList: function getList(state) {\n    return state.albumsList;\n  },\n  getAlbumItem: function getAlbumItem(state) {\n    return state.album;\n  },\n  getTitle: function getTitle(state) {\n    return state.title;\n  }\n});\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"/ocq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Login__ = __webpack_require__(\"xJsL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_AlbumsList__ = __webpack_require__(\"6LXs\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Album__ = __webpack_require__(\"gOGN\");\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/login',\n    name: 'Login',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Login__[\"a\" /* default */]\n  }, {\n    path: '/albumsList',\n    name: 'AlbumsList',\n    component: __WEBPACK_IMPORTED_MODULE_3__components_AlbumsList__[\"a\" /* default */]\n  }, {\n    path: '/album',\n    name: 'Album',\n    component: __WEBPACK_IMPORTED_MODULE_4__components_Album__[\"a\" /* default */]\n  }]\n}));\n\n/***/ }),\n\n/***/ \"YtJ0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__getters__ = __webpack_require__(\"WMeU\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mutations__ = __webpack_require__(\"UTg/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__actions__ = __webpack_require__(\"/8vw\");\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"c\" /* default */]);\n\nvar state = {\n  domain: 'https://weshot.wowge.org',\n  user: {},\n  loginErr: '',\n  albumsList: [],\n  album: {},\n  title: '似水流年小相册'\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vuex__[\"c\" /* default */].Store({\n  state: state, actions: __WEBPACK_IMPORTED_MODULE_4__actions__[\"a\" /* default */], mutations: __WEBPACK_IMPORTED_MODULE_3__mutations__[\"a\" /* default */], getters: __WEBPACK_IMPORTED_MODULE_2__getters__[\"a\" /* default */]\n}));\n\n/***/ }),\n\n/***/ \"afmS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_vue_loader_lib_selector_type_script_index_0_vue_aplayer_vue__ = __webpack_require__(\"HPoU\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__vue_loader_lib_template_compiler_index_id_data_v_1fe40327_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_vue_loader_lib_selector_type_template_index_0_vue_aplayer_vue__ = __webpack_require__(\"1rsT\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_vue_loader_lib_selector_type_script_index_0_vue_aplayer_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__vue_loader_lib_template_compiler_index_id_data_v_1fe40327_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_vue_loader_lib_selector_type_template_index_0_vue_aplayer_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"fA53\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(!_vm.listReady)?_c('div',{staticClass:\"row well\"},[_c('span',[_vm._v(\"正在读取中...\")])]):_vm._e(),_c('br'),(_vm.listReady)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12\"},[_c('div',{staticClass:\"list-group\"},[_vm._l((_vm.albumsList),function(album){return (typeof album !== 'undefined')?[_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('div',{staticClass:\"list-group-item well\"},[_c('img',{staticClass:\"img-thumbnail img-responsive\",attrs:{\"src\":album.cover}}),_c('p',[_vm._v(_vm._s(album.title))]),_c('div',{staticClass:\"right\"},[_c('a',{on:{\"click\":function($event){_vm.gotoAlbum(album.id)}}},[_c('i',{staticClass:\"glyphicon glyphicon-chevron-right\"}),_c('i',{staticClass:\"glyphicon glyphicon-chevron-right\"})])]),_c('hr'),_c('div',{staticClass:\"right\"},[_vm._v(_vm._s(album.author.nickName)),_c('img',{staticClass:\"img-circle\",staticStyle:{\"width\":\"10%\",\"height\":\"10%\"},attrs:{\"src\":album.author.avatar}}),_c('p',[_vm._v(_vm._s(_vm._f(\"date\")(album.createOn)))])])])])]:_vm._e()})],2)])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"gBXN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loginErr!==''),expression:\"loginErr!==''\"}],staticClass:\"well\"},[_c('span',[_vm._v(_vm._s(_vm.loginErr))])]),_c('form',{staticClass:\"form-horizontal\",attrs:{\"id\":\"login\"}},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-xs-12 col-sm-2 control-label\",attrs:{\"for\":\"nickName\"}},[_vm._v(\"用户名\")]),_c('div',{staticClass:\"col-xs-12 col-sm-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.credential.nickName),expression:\"credential.nickName\"}],staticClass:\"form-control\",attrs:{\"id\":\"nickName\",\"name\":\"nickName\",\"type\":\"text\"},domProps:{\"value\":(_vm.credential.nickName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.credential.nickName=$event.target.value}}})])]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-xs-12 col-sm-2 control-label\",attrs:{\"for\":\"password\"}},[_vm._v(\"密码\")]),_c('div',{staticClass:\"col-xs-12 col-sm-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.credential.password),expression:\"credential.password\"}],staticClass:\"form-control\",attrs:{\"id\":\"password\",\"name\":\"password\",\"type\":\"password\"},domProps:{\"value\":(_vm.credential.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.credential.password=$event.target.value}}})])])]),_c('button',{staticClass:\"btn btn-default pull-right\",attrs:{\"id\":\"confirm\"},on:{\"click\":function($event){_vm.login(_vm.credential)}}},[_vm._v(\"确定\")]),_c('br'),_c('br'),_c('div',{staticClass:\"panel panel-default\"},[_vm._m(0),_c('div',{staticClass:\"panel-body\"},[_vm._v(\"微信扫描二维码可打开\\\"似水流年小相册\\\"小程序版，查看首页说明获取用户名、密码\")]),_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":_vm.qrcode}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-heading\"},[_c('div',{staticClass:\"panel-title\"},[_vm._v(\"小程序\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"gOGN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Album_vue__ = __webpack_require__(\"mA5G\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_aa7d0ade_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Album_vue__ = __webpack_require__(\"4aQm\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"12qG\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-aa7d0ade\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Album_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_aa7d0ade_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Album_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"isYl\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_underscore__ = __webpack_require__(\"rdLu\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_underscore___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_underscore__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_aplayer__ = __webpack_require__(\"afmS\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      listReady: false\n    };\n  },\n\n  components: {\n    VueAplayer: __WEBPACK_IMPORTED_MODULE_2_vue_aplayer__[\"a\" /* default */]\n  },\n  methods: __WEBPACK_IMPORTED_MODULE_1_underscore___default.a.extend({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"b\" /* mapActions */])(['getAlbumsList']), {\n    gotoAlbum: function gotoAlbum(id) {\n      this.$router.push('/album?id=' + id);\n    }\n  }),\n  created: function created() {\n    this.getAlbumsList(this);\n  },\n\n  computed: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"a\" /* mapGetters */])({\n    user: 'getUser',\n    albumsList: 'getList'\n  })\n});\n\n/***/ }),\n\n/***/ \"mA5G\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_underscore__ = __webpack_require__(\"rdLu\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_underscore___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_underscore__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_aplayer__ = __webpack_require__(\"afmS\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      albumReady: false\n    };\n  },\n\n  components: {\n    VueAplayer: __WEBPACK_IMPORTED_MODULE_2_vue_aplayer__[\"a\" /* default */]\n  },\n  methods: __WEBPACK_IMPORTED_MODULE_1_underscore___default.a.extend({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"b\" /* mapActions */])(['getAlbum']), {}),\n  created: function created() {\n    this.getAlbum(this);\n  },\n\n  computed: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"a\" /* mapGetters */])({\n    album: 'getAlbumItem'\n  })\n});\n\n/***/ }),\n\n/***/ \"nKb+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(\"NYxO\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  methods: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"b\" /* mapActions */])(['login']),\n  computed: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"a\" /* mapGetters */])({\n    loginErr: 'getLoginErr'\n  }),\n  data: function data() {\n    return {\n      qrcode: 'http://image-public.wowge.org/weshot_code_20170709.jpg',\n      credential: {\n        nickName: '',\n        password: ''\n      }\n    };\n  }\n});\n\n/***/ }),\n\n/***/ \"wTe3\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Login_vue__ = __webpack_require__(\"xJsL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_AlbumsList_vue__ = __webpack_require__(\"6LXs\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Album_vue__ = __webpack_require__(\"gOGN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vuex_store__ = __webpack_require__(\"YtJ0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vuex__ = __webpack_require__(\"NYxO\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  store: __WEBPACK_IMPORTED_MODULE_3__vuex_store__[\"a\" /* default */],\n  components: {\n    LoginComp: __WEBPACK_IMPORTED_MODULE_0__components_Login_vue__[\"a\" /* default */],\n    AlbumsListComp: __WEBPACK_IMPORTED_MODULE_1__components_AlbumsList_vue__[\"a\" /* default */],\n    AlbumComp: __WEBPACK_IMPORTED_MODULE_2__components_Album_vue__[\"a\" /* default */]\n  },\n  data: function data() {\n    return {\n      alert: false\n    };\n  },\n\n  computed: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_vuex__[\"a\" /* mapGetters */])({\n    title: 'getTitle',\n    user: 'getUser'\n  }),\n  methods: {\n    isLoginPath: function isLoginPath() {\n      if (this.$route.path === '/login') {\n        return true;\n      }\n    },\n    isLoggedIn: function isLoggedIn() {\n      var token = window.localStorage['weshot-token'];\n      if (token) {\n        var payload = JSON.parse(window.atob(token.split('.')[1]));\n        return Date.now() / 1000 < payload.exp;\n      } else {\n        return false;\n      }\n    },\n    logout: function logout() {\n      window.localStorage.removeItem('weshot-token');\n      this.$router.push('/login');\n    },\n    showAlert: function showAlert() {\n      this.alert = true;\n    },\n    clearAlert: function clearAlert() {\n      this.alert = false;\n    },\n    gotoLogin: function gotoLogin() {\n      this.$router.push('/login');\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"xJsL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Login_vue__ = __webpack_require__(\"nKb+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3568de8b_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Login_vue__ = __webpack_require__(\"gBXN\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"wTe3\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3568de8b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Login_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3568de8b_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Login_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"zUKl\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.c9e9cbfeae0a68948f2b.js","import {SET_LOGINERR, UPDATE_USERINFO, UPDATE_ALBUMSLIST, UPDATE_ALBUM, UPDATE_TITLE} from './mutations_type'\nimport Vue from 'vue'\nimport VueResource from 'vue-resource'\nimport {app} from '../main'\n\nVue.use(VueResource)\n\nexport default {\n  login (store, credential) {\n    if (credential.nickName === '' || credential.password === '') {\n      store.commit(SET_LOGINERR, '不允许为空')\n      return\n    }\n    Vue.http.post(store.state.domain + '/vue/login', {nickName: credential.nickName, password: credential.password})\n      .then(res => {\n        return res.json()\n      })\n      .then(res => {\n        window.localStorage['weshot-token'] = res.token\n        app.$router.push('/albumsList')\n      })\n      .catch(err => {\n        if (err.body.msg === 'incorrect user') {\n          store.commit(SET_LOGINERR, '用户名错误')\n        } else if (err.body.msg === 'incorrect password') {\n          store.commit(SET_LOGINERR, '密码错误')\n        }\n      })\n  },\n  getAlbumsList (store, that) {\n    let token = window.localStorage['weshot-token']\n    let payload = JSON.parse(window.atob(token.split('.')[1]))\n    let uid = payload._id\n    let user = {}\n    let albumsList = []\n    // {headers: {Authorization: 'Bearer ' + token}}\n    Vue.http.get(store.state.domain + '/vue/user' + '?id=' + uid)\n      .then(res => {\n        return res.json()\n      })\n      .then(res => {\n        store.commit(UPDATE_USERINFO, res)\n        user = res\n        store.commit(UPDATE_TITLE, user.nickName + '的相册')\n        let flag = 0\n        let run = 0\n        for (let i = 0; i < user.history.length; i++) {\n          Vue.http.get(store.state.domain + '/vue/album' + '?id=' + user.history[i])\n            .then(res => {\n              run++\n              albumsList[i] = {\n                id: user.history[i],\n                cover: res.data.photos[0],\n                title: res.data.albumName,\n                author: res.data.userInfo.open_id,\n                createOn: new Date(res.data.createOn)\n              }\n              return Vue.http.get(store.state.domain + '/api/downloadUrl' + '?key=' + albumsList[i].cover)\n            })\n            .then(res => {\n              albumsList[i].cover = res.data.downloadUrl\n              return Vue.http.get(store.state.domain + '/vue/user' + '?id=' + albumsList[i].author)\n            })\n            .then(res => {\n              albumsList[i].author = {\n                nickName: res.data.nickName,\n                avatar: res.data.avatarUrl\n              }\n              flag++\n              if (flag === run) {\n                store.commit(UPDATE_ALBUMSLIST, albumsList)\n                that.listReady = true\n              }\n            })\n        }\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  },\n  getAlbum (store, that) {\n    let album = {}\n    Vue.http.get(store.state.domain + '/vue/album' + '?id=' + that.$route.query.id)\n      .then(res => {\n        album = {\n          photos: res.data.photos,\n          albumName: res.data.albumName,\n          memory: res.data.memory,\n          feelings: res.data.feelings,\n          music: res.data.music,\n          userInfo: res.data.userInfo,\n          createOn: new Date(res.data.createOn)\n        }\n        store.commit(UPDATE_TITLE, album.albumName)\n        return Vue.http.get(store.state.domain + '/api/get/song/qq' + '?id=' + album.music.id)\n      })\n      .then(res => {\n        album.music.src = res.data.url\n        return Vue.http.get(store.state.domain + '/vue/user' + '?id=' + album.userInfo.open_id)\n      })\n      .then(res => {\n        album.userInfo.nickName = res.data.nickName\n        album.userInfo.avatar = res.data.avatarUrl\n        let flag = 0\n        let run = 0\n        for (let i = 0; i < album.photos.length; i++) {\n          run++\n          Vue.http.get(store.state.domain + '/api/downloadUrl' + '?key=' + album.photos[i])\n            .then(res => {\n              album.photos[i] = res.data.downloadUrl\n              flag++\n              if (flag === run) {\n                store.commit(UPDATE_ALBUM, album)\n                that.albumReady = true\n              }\n            })\n        }\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/actions.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"aplayer\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1fe40327\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-aplayer/src/vue-aplayer.vue\n// module id = 1rsT\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(!_vm.albumReady)?_c('div',{staticClass:\"row well\"},[_c('span',[_vm._v(\"正在读取中...\")])]):_vm._e(),(_vm.albumReady)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12\"},[_c('VueAplayer',{attrs:{\"music\":{title:_vm.album.music.name, author:_vm.album.music.authors, url:_vm.album.music.src, pic:_vm.album.music.poster}}}),_c('br'),_c('br'),_c('div',{staticClass:\"list-group\"},[_vm._l((_vm.album.photos),function(photo,index){return [_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('div',{staticClass:\"list-group-item well\"},[_c('div',{staticClass:\"list-group-item-heading\"},[_vm._v(_vm._s(_vm.album.feelings[index]))]),_c('a',{attrs:{\"target\":\"_blank\",\"href\":photo,\"rel\":\"noopener\"}},[_c('img',{staticClass:\"img-responsive img-thumbnail\",attrs:{\"src\":photo}})])])])]})],2)],1)]):_vm._e(),_c('br'),_c('br'),(_vm.albumReady)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"panel panel-info\"},[_vm._m(0),_c('div',{staticClass:\"panel-body\"},[_vm._v(_vm._s(_vm.album.memory))]),_c('div',{staticClass:\"right\",staticStyle:{\"font-size\":\"20px\"}},[_vm._v(_vm._s(_vm.album.userInfo.nickName)),_c('img',{staticClass:\"img-circle\",staticStyle:{\"width\":\"10%\",\"height\":\"10%\"},attrs:{\"src\":_vm.album.userInfo.avatar}}),_c('p',[_vm._v(_vm._s(_vm._f(\"date\")(_vm.album.createOn)))])])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-heading\"},[_c('div',{staticClass:\"panel-title\"},[_vm._v(\"寄语\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-aa7d0ade\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Album.vue\n// module id = 4aQm\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c8c71d20\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AlbumsList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AlbumsList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c8c71d20\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AlbumsList.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c8c71d20\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AlbumsList.vue\n// module id = 6LXs\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container common\",attrs:{\"id\":\"app\"}},[_c('h1',[_vm._v(_vm._s(_vm.title))]),(_vm.isLoggedIn())?_c('div',{staticClass:\"right\",on:{\"mouseover\":function($event){_vm.showAlert()},\"mouseout\":function($event){_vm.clearAlert()}}},[_vm._v(_vm._s(_vm.user.nickName)),_c('button',{on:{\"click\":function($event){_vm.logout()}}},[_vm._v(\"登出\"),_c('i',{staticClass:\"glyphicon glyphicon-log-out\"})]),(_vm.alert)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\"在公用电脑上登录请记得登出，防止隐私泄漏\")]):_vm._e()]):_vm._e(),(!_vm.isLoggedIn() && !_vm.isLoginPath())?_c('div',{staticClass:\"right\"},[_c('button',{on:{\"click\":function($event){_vm.gotoLogin()}}},[_vm._v(\"登录\"),_c('i',{staticClass:\"glyphicon glyphicon-log-in\"})])]):_vm._e(),_c('hr'),_c('router-view',{directives:[{name:\"wechat-title\",rawName:\"v-wechat-title\",value:(_vm.title),expression:\"title\"}]})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-10338256\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = CUGf\n// module chunks = 1","<template>\n    <div class=\"aplayer\"></div>\n</template>\n<script type=\"text/babel\">\n    import APlayer from 'aplayer'\n    export default {\n        props: {\n            narrow: {\n                type: Boolean,\n                default: false\n            },\n            autoplay: {\n                type: Boolean,\n                default: false\n            },\n            showlrc: {\n                type: Number,\n                default: 0\n            },\n            mutex: {\n                type: Boolean,\n                default: false\n            },\n            theme: {\n                type: String,\n                default: '#b7daff'\n            },\n            mode: {\n                type: String,\n                default: 'circulation'\n            },\n            preload: {\n                type: String,\n                default: 'auto'\n            },\n            listmaxheight: String,\n            music: {\n                type: [Object, Array],\n                required: true,\n                validator(value) {\n                    let songs\n                    if (!(value instanceof Array)) {\n                        songs = [value]\n                    } else {\n                        songs = value\n                    }\n                    for (let i = 0; i < songs.length; i++) {\n                        let song = songs[i]\n                        if (!song.url || !song.title || !song.author) {\n                            song.title = song.title || 'Untitled'\n                            song.author = song.author || 'Unknown'\n                            return false\n                        }\n                    }\n                    return true\n                }\n            }\n        },\n        data() {\n            return {\n                control: null\n            }\n        },\n        watch: {\n            music(music) {\n                this.control.option.music = music;\n                this.control.setMusic(0);\n                if(this.autoplay) {\n                    this.control.play();\n                }\n                this.$emit('change', music);\n            }\n        },\n        mounted() {\n            let player = this.control = new APlayer({\n                element: this.$el,\n                narrow: this.narrow,\n                autoplay: this.autoplay,\n                showlrc: this.showlrc,\n                mutex: this.mutex,\n                theme: this.theme,\n                preload: this.preload,\n                mode: this.mode,\n                listmaxheight: this.listmaxheight,\n                music: this.music\n            })\n            player.on('play', () => {\n                this.$emit('play')\n            })\n            player.on('pause', () => {\n                this.$emit('pause')\n            })\n            player.on('canplay', () => {\n                this.$emit('canplay')\n            })\n            player.on('playing', () => {\n                this.$emit('playing')\n            })\n            player.on('ended', () => {\n                this.$emit('ended')\n            })\n            player.on('error', () => {\n                this.$emit('error')\n            })\n        }\n    }\n\n\n</script>\n\n\n// WEBPACK FOOTER //\n// vue-aplayer.vue?0c338c87","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-10338256\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-10338256\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","export const UPDATE_USERINFO = 'UPDATE_USERINFO'\nexport const SET_LOGINERR = 'SET_LOGINERR'\nexport const UPDATE_ALBUMSLIST = 'UPDATE_ALBUMSLIST'\nexport const UPDATE_ALBUM = 'UPDATE_ALBUM'\nexport const UPDATE_TITLE = 'UPDATE_TITLE'\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/mutations_type.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\nVue.filter('date', function (date) {\n  let year = date.getFullYear()\n  let month = date.getMonth() + 1\n  let day = date.getDate()\n  return year.toString() + '年' + month.toString() + '月' + day.toString() + '日'\n})\n\nVue.use(require('vue-wechat-title'))\n\n/* eslint-disable no-new */\nexport const app = new Vue({\n  el: 'app',\n  router,\n  components: { App },\n  watch: {\n    '$route': 'route'\n  },\n  created () {\n    this.route()\n  },\n  methods: {\n    isLoggedIn () {\n      let token = window.localStorage['weshot-token']\n      if (token) {\n        let payload = JSON.parse(window.atob(token.split('.')[1]))\n        return Date.now() / 1000 < payload.exp\n      } else {\n        return false\n      }\n    },\n    route () {\n      if (!this.isLoggedIn() && this.$route.path !== '/album') {\n        this.$router.push('/login')\n      } else if (this.isLoggedIn() && this.$route.path !== '/album') {\n        this.$router.push('/albumsList')\n      } else {\n        // console.log(this.$route)\n        this.$router.push(this.$route.fullPath)\n      }\n    }\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import * as types from './mutations_type'\n\nexport default {\n  [types.UPDATE_USERINFO] (state, user) {\n    state.user = user\n  },\n  [types.SET_LOGINERR] (state, loginErr) {\n    state.loginErr = loginErr\n  },\n  [types.UPDATE_ALBUMSLIST] (state, albumsList) {\n    state.albumsList = albumsList\n  },\n  [types.UPDATE_ALBUM] (state, album) {\n    state.album = album\n  },\n  [types.UPDATE_TITLE] (state, title) {\n    state.title = title\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/mutations.js","export default {\n  getUser (state) {\n    return state.user\n  },\n  getLoginErr (state) {\n    return state.loginErr\n  },\n  getList (state) {\n    return state.albumsList\n  },\n  getAlbumItem (state) {\n    return state.album\n  },\n  getTitle (state) {\n    return state.title\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/getters.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Login from '@/components/Login'\nimport AlbumsList from '@/components/AlbumsList'\nimport Album from '@/components/Album'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/login',\n      name: 'Login',\n      component: Login\n    }, {\n      path: '/albumsList',\n      name: 'AlbumsList',\n      component: AlbumsList\n    }, {\n      path: '/album',\n      name: 'Album',\n      component: Album\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport getters from './getters'\nimport mutations from './mutations'\nimport actions from './actions'\n\nVue.use(Vuex)\n\nconst state = {\n  domain: 'https://weshot.wowge.org',\n  user: {},\n  loginErr: '',\n  albumsList: [],\n  album: {},\n  title: '似水流年小相册'\n}\n\nexport default new Vuex.Store({\n  state, actions, mutations, getters\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","var normalizeComponent = require(\"!../../vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./vue-aplayer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1fe40327\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../vue-loader/lib/selector?type=template&index=0!./vue-aplayer.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-aplayer/src/vue-aplayer.vue\n// module id = afmS\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(!_vm.listReady)?_c('div',{staticClass:\"row well\"},[_c('span',[_vm._v(\"正在读取中...\")])]):_vm._e(),_c('br'),(_vm.listReady)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12\"},[_c('div',{staticClass:\"list-group\"},[_vm._l((_vm.albumsList),function(album){return (typeof album !== 'undefined')?[_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('div',{staticClass:\"list-group-item well\"},[_c('img',{staticClass:\"img-thumbnail img-responsive\",attrs:{\"src\":album.cover}}),_c('p',[_vm._v(_vm._s(album.title))]),_c('div',{staticClass:\"right\"},[_c('a',{on:{\"click\":function($event){_vm.gotoAlbum(album.id)}}},[_c('i',{staticClass:\"glyphicon glyphicon-chevron-right\"}),_c('i',{staticClass:\"glyphicon glyphicon-chevron-right\"})])]),_c('hr'),_c('div',{staticClass:\"right\"},[_vm._v(_vm._s(album.author.nickName)),_c('img',{staticClass:\"img-circle\",staticStyle:{\"width\":\"10%\",\"height\":\"10%\"},attrs:{\"src\":album.author.avatar}}),_c('p',[_vm._v(_vm._s(_vm._f(\"date\")(album.createOn)))])])])])]:_vm._e()})],2)])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-c8c71d20\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/AlbumsList.vue\n// module id = fA53\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loginErr!==''),expression:\"loginErr!==''\"}],staticClass:\"well\"},[_c('span',[_vm._v(_vm._s(_vm.loginErr))])]),_c('form',{staticClass:\"form-horizontal\",attrs:{\"id\":\"login\"}},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-xs-12 col-sm-2 control-label\",attrs:{\"for\":\"nickName\"}},[_vm._v(\"用户名\")]),_c('div',{staticClass:\"col-xs-12 col-sm-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.credential.nickName),expression:\"credential.nickName\"}],staticClass:\"form-control\",attrs:{\"id\":\"nickName\",\"name\":\"nickName\",\"type\":\"text\"},domProps:{\"value\":(_vm.credential.nickName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.credential.nickName=$event.target.value}}})])]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-xs-12 col-sm-2 control-label\",attrs:{\"for\":\"password\"}},[_vm._v(\"密码\")]),_c('div',{staticClass:\"col-xs-12 col-sm-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.credential.password),expression:\"credential.password\"}],staticClass:\"form-control\",attrs:{\"id\":\"password\",\"name\":\"password\",\"type\":\"password\"},domProps:{\"value\":(_vm.credential.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.credential.password=$event.target.value}}})])])]),_c('button',{staticClass:\"btn btn-default pull-right\",attrs:{\"id\":\"confirm\"},on:{\"click\":function($event){_vm.login(_vm.credential)}}},[_vm._v(\"确定\")]),_c('br'),_c('br'),_c('div',{staticClass:\"panel panel-default\"},[_vm._m(0),_c('div',{staticClass:\"panel-body\"},[_vm._v(\"微信扫描二维码可打开\\\"似水流年小相册\\\"小程序版，查看首页说明获取用户名、密码\")]),_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":_vm.qrcode}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-heading\"},[_c('div',{staticClass:\"panel-title\"},[_vm._v(\"小程序\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3568de8b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = gBXN\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-aa7d0ade\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Album.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Album.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-aa7d0ade\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Album.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-aa7d0ade\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Album.vue\n// module id = gOGN\n// module chunks = 1","<template lang=\"pug\">\n  .container\n    .row.well(v-if=\"!listReady\")\n      span 正在读取中...\n    br\n    .row(v-if=\"listReady\")\n      .col-xs-12\n        .list-group\n          template(v-for=\"album in albumsList\" v-if=\"typeof album !== 'undefined'\")\n            .col-xs-12.col-md-6\n              .list-group-item.well\n                img.img-thumbnail.img-responsive(:src=\"album.cover\")\n                p {{ album.title }}\n                .right\n                  a(@click=\"gotoAlbum(album.id)\")\n                    i.glyphicon.glyphicon-chevron-right\n                    i.glyphicon.glyphicon-chevron-right\n                hr\n                .right {{ album.author.nickName }}\n                  img.img-circle(style=\"width:10%;height:10%;\" :src=\"album.author.avatar\")\n                  p {{ album.createOn | date }}\n\n</template>\n\n<style scoped>\n\n</style>\n\n<script>\n  import {mapGetters, mapActions} from 'vuex'\n  import _ from 'underscore'\n  import VueAplayer from 'vue-aplayer'\n\n  export default {\n    data () {\n      return {\n        listReady: false\n      }\n    },\n    components: {\n      VueAplayer\n    },\n    methods: _.extend(\n      {},\n      mapActions(['getAlbumsList']),\n      {\n        gotoAlbum (id) {\n          this.$router.push('/album?id=' + id)\n        }\n      }\n    ),\n    created () {\n      this.getAlbumsList(this)\n    },\n    computed: mapGetters({\n      user: 'getUser',\n      albumsList: 'getList'\n    })\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// AlbumsList.vue?4e72a9ec","<template lang=\"pug\">\n  .container\n    .row.well(v-if=\"!albumReady\")\n      span 正在读取中...\n    .row(v-if=\"albumReady\")\n      .col-xs-12\n        VueAplayer(:music=\"{title:album.music.name, author:album.music.authors, url:album.music.src, pic:album.music.poster}\")\n        br\n        br\n        .list-group\n            template(v-for=\"(photo, index) in album.photos\")\n              .col-xs-12.col-md-6\n                .list-group-item.well\n                  .list-group-item-heading {{ album.feelings[index] }}\n                  a(target=\"_blank\" :href=\"photo\" rel=\"noopener\")\n                    img.img-responsive.img-thumbnail(:src=\"photo\")\n    br\n    br\n    .row(v-if=\"albumReady\")\n      .panel.panel-info\n        .panel-heading\n          .panel-title 寄语\n        .panel-body {{ album.memory }}\n        .right(style=\"font-size:20px\") {{ album.userInfo.nickName }}\n          img.img-circle(style=\"width:10%;height:10%;\" :src=\"album.userInfo.avatar\")\n          p {{ album.createOn | date }}\n</template>\n\n<style scoped>\n</style>\n\n<script>\n  import {mapGetters, mapActions} from 'vuex'\n  import _ from 'underscore'\n  import VueAplayer from 'vue-aplayer'\n\n  export default {\n    data () {\n      return {\n        albumReady: false\n      }\n    },\n    components: {\n      VueAplayer\n    },\n    methods: _.extend(\n      {},\n      mapActions(['getAlbum']),\n      {\n      }\n    ),\n    created () {\n      this.getAlbum(this)\n    },\n    computed: mapGetters({\n      album: 'getAlbumItem'\n    })\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Album.vue?61f1f62e","<template lang=\"pug\">\n  .container\n    .well(v-show=\"loginErr!==''\")\n      span {{ loginErr }}\n    form#login.form-horizontal\n      .form-group\n        label.col-xs-12.col-sm-2.control-label(for='nickName') 用户名\n        .col-xs-12.col-sm-10\n          input#nickName.form-control(name='nickName' type='text' v-model='credential.nickName')\n      .form-group\n        label.col-xs-12.col-sm-2.control-label(for='password') 密码\n        .col-xs-12.col-sm-10\n          input#password.form-control(name='password' type='password' v-model='credential.password')\n    button#confirm.btn.btn-default.pull-right(@click=\"login(credential)\") 确定\n    br\n    br\n    .panel.panel-default\n      .panel-heading\n        .panel-title 小程序\n      .panel-body 微信扫描二维码可打开\"似水流年小相册\"小程序版，查看首页说明获取用户名、密码\n      img.img-responsive(:src=\"qrcode\")\n</template>\n\n\n<style scoped>\n</style>\n\n\n<script>\n  import {mapGetters, mapActions} from 'vuex'\n\n  export default {\n    methods: mapActions(['login']),\n    computed: mapGetters({\n      loginErr: 'getLoginErr'\n    }),\n    data () {\n      return {\n        qrcode: 'http://image-public.wowge.org/weshot_code_20170709.jpg',\n        credential: {\n          nickName: '',\n          password: ''\n        }\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Login.vue?36ca9bb1","<template lang=\"pug\">\n  #app.container.common\n    h1 {{ title }}\n    .right(v-if=\"isLoggedIn()\" @mouseover=\"showAlert()\" @mouseout=\"clearAlert()\") {{ user.nickName }}\n      button(@click=\"logout()\") 登出\n        i.glyphicon.glyphicon-log-out\n      .alert.alert-danger(v-if=\"alert\") 在公用电脑上登录请记得登出，防止隐私泄漏\n    .right(v-if=\"!isLoggedIn() && !isLoginPath()\")\n      button(@click=\"gotoLogin()\") 登录\n        i.glyphicon.glyphicon-log-in\n    hr\n    router-view(v-wechat-title=\"title\")\n</template>\n\n<script>\n  import LoginComp from './components/Login.vue'\n  import AlbumsListComp from './components/AlbumsList.vue'\n  import AlbumComp from './components/Album.vue'\n  import store from './vuex/store'\n  import {mapGetters} from 'vuex'\n\n  export default {\n    store,\n    components: {\n      LoginComp,\n      AlbumsListComp,\n      AlbumComp\n    },\n    data () {\n      return {\n        alert: false\n      }\n    },\n    computed: mapGetters({\n      title: 'getTitle',\n      user: 'getUser'\n    }),\n    methods: {\n      isLoginPath () {\n        if (this.$route.path === '/login') {\n          return true\n        }\n      },\n      isLoggedIn () {\n        let token = window.localStorage['weshot-token']\n        if (token) {\n          let payload = JSON.parse(window.atob(token.split('.')[1]))\n          return Date.now() / 1000 < payload.exp\n        } else {\n          return false\n        }\n      },\n      logout () {\n        window.localStorage.removeItem('weshot-token')\n        this.$router.push('/login')\n      },\n      showAlert () {\n        this.alert = true\n      },\n      clearAlert () {\n        this.alert = false\n      },\n      gotoLogin () {\n        this.$router.push('/login')\n      }\n    }\n  }\n</script>\n\n<style>\n  .common {\n    font-size: 26px;\n  }\n  .right {\n    text-align: right;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?cd93b79e","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3568de8b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3568de8b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3568de8b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = xJsL\n// module chunks = 1"],"sourceRoot":""}